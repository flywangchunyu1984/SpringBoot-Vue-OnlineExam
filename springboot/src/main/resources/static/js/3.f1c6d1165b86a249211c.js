webpackJsonp([3],{Cdx3:function(e,t,i){var s=i("sB3e"),n=i("lktj");i("uqUo")("keys",function(){return function(e){return n(s(e))}})},RoFm:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("fZjL"),n=i.n(s),a=i("Dd8w"),r=i.n(a),o=i("YtJ0"),c=i("NYxO"),l={store:o.a,data:function(){return{startTime:null,endTime:null,time:null,reduceAnswer:[],answerScore:0,bg_flag:!1,isFillClick:!1,slider_flag:!0,flag:!1,currentType:1,radio:[],title:"请选择正确的选项",index:0,userInfo:{name:null,id:null},topicCount:[],score:[],examData:{},topic:{},showQuestion:[],showAnswer:{},number:1,part:null,fillAnswer:[[]],judgeAnswer:[],topic1Answer:[],rightAnswer:"",radioName:[],isSelected:!1}},created:function(){this.getCookies(),this.getExamData(),this.showTime()},methods:{getTime:function(e){return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},getCookies:function(){this.userInfo.name=this.$cookies.get("cname"),this.userInfo.id=this.$cookies.get("cid")},calcuScore:function(){},getExamData:function(){var e=this,t=new Date;this.startTime=this.getTime(t);var i=this.$route.query.examCode;this.$axios("/api/exam/"+i).then(function(t){e.examData=r()({},t.data.data),e.index=0,e.time=e.examData.totalTime;var i=e.examData.paperId;e.$axios("/api/paper/"+i).then(function(t){e.topic=r()({},t.data);var i=e.topic[1][e.index];e.reduceAnswer=i,n()(e.topic).forEach(function(t){var i=e.topic[t];e.topicCount.push(i.length);for(var s=0,n=0;n<i.length;n++)s+=i[n].score;e.score.push(s)});for(var s=e.topicCount[1],a=[],o=0;o<s;o++){a.push([null,null,null,null])}e.fillAnswer=a;var c=e.topic[1];e.number=1,e.showQuestion=c[0].question,e.showAnswer=c[0],e.radioName[0]=e.showAnswer.answerA,e.radioName[1]=e.showAnswer.answerA,e.radioName[2]=e.showAnswer.answerB,e.radioName[3]=e.showAnswer.answerC,e.radioName[4]=e.showAnswer.answerD,e.isSelected=null})})},change:function(e){this.radioName[0]=null,this.isSelected=null,this.index=e;var t=this.topic[1][this.index];this.reduceAnswer=t,this.isFillClick=!0,this.currentType=1;var i=this.topic[1].length;if(this.index<i){this.index<=0&&(this.index=0),console.log("总长度"+i),console.log("当前index:"+e),this.title="请选择正确的选项";var s=this.topic[1];this.showQuestion=s[this.index].question,this.showAnswer=s[this.index],this.radioName[1]=this.showAnswer.answerA,this.radioName[2]=this.showAnswer.answerB,this.radioName[3]=this.showAnswer.answerC,this.radioName[4]=this.showAnswer.answerD,this.number=this.index+1}else this.index>=i&&(this.index=0,this.fill(this.index))},fillBG:function(){null!=this.fillAnswer[this.index][0]&&(this.fillAnswer[this.index][3]=!0)},fill:function(e){var t=this.topic[2].length;if(this.currentType=2,this.index=e,e<t)if(e<0)e=this.topic[1].length-1,this.change(e);else{console.log("总长度"+t),console.log("当前index:"+e),this.title="请在横线处填写答案";var i=this.topic[2];console.log(i),this.showQuestion=i[e].question;var s=this.showQuestion.split("()").length-1;this.part=s,this.number=this.topicCount[0]+e+1}else e>=t&&(this.index=0,this.judge(this.index))},judge:function(e){var t=this.topic[3].length;if(this.currentType=3,this.index=e,this.index<t)if(this.index<0)this.index=this.topic[2].length-1,this.fill(this.index);else{console.log("总长度"+t),console.log("当前index:"+this.index),this.title="请作出正确判断";var i=this.topic[3];console.log(i),this.showQuestion=i[e].question,this.number=this.topicCount[0]+this.topicCount[1]+e+1}else this.index>=t&&(this.index=0,this.change(this.index))},getChangeLabel:function(e){switch(this.$set(this.radioName,0,this.radioName[e]),this.reduceAnswer.rightAnswer){case"A":this.reduceAnswer.rightAnswer=1;break;case"B":this.reduceAnswer.rightAnswer=2;break;case"C":this.reduceAnswer.rightAnswer=3;break;case"D":this.reduceAnswer.rightAnswer=4}if(e==this.reduceAnswer.rightAnswer?this.isSelected=!0:this.isSelected=!1,this.radio[this.index]=e,e){var t=this.topic[1];this.bg_flag=!0,t[this.index].isClick=!0}this.topic1Answer[this.index]=e,console.log(this.radioName[0])},getJudgeLabel:function(e){if(this.judgeAnswer[this.index]=e,e){var t=this.topic[3];this.bg_flag=!0,t[this.index].isClick=!0}},previous:function(){switch(this.index--,this.currentType){case 1:this.change(this.index);break;case 2:this.fill(this.index);break;case 3:this.judge(this.index)}},next:function(){switch(this.index++,this.currentType){case 1:this.change(this.index);break;case 2:this.fill(this.index);break;case 3:this.judge(this.index)}},mark:function(){switch(this.currentType){case 1:this.topic[1][this.index].isMark=!0;break;case 2:this.topic[2][this.index].isMark=!0;break;case 3:this.topic[3][this.index].isMark=!0}},commit:function(){var e=this,t=0;this.topic1Answer.forEach(function(i,s){var n=null;if(null!=i){switch(i){case 1:n="A";break;case 2:n="B";break;case 3:n="C";break;case 4:n="D"}n==e.topic[1][s].rightAnswer&&(t+=e.topic[1][s].score),console.log(n,e.topic[1][s].rightAnswer)}}),this.fillAnswer.forEach(function(i,s){i.forEach(function(i){e.topic[2][s].answer.includes(i)&&(console.log("正确"),t+=e.topic[2][e.index].score)})}),this.judgeAnswer.forEach(function(i,s){var n=null;switch(i){case 1:n="T";break;case 2:n="F"}n==e.topic[3][s].answer&&(t+=e.topic[3][s].score)}),console.log("目前总分"+t),0!=this.time&&this.$confirm("考试结束时间未到,是否提前交卷","友情提示",{confirmButtonText:"立即交卷",cancelButtonText:"再检查一下",type:"warning"}).then(function(){console.log("交卷");var i=new Date;e.endTime=e.getTime(i);var s=e.endTime.substr(0,10);e.$axios({url:"/api/score",method:"post",data:{examCode:e.examData.examCode,studentId:e.userInfo.id,subject:e.examData.source,etScore:t,answerDate:s}}).then(function(i){200==i.data.code&&e.$router.push({path:"/studentScore",query:{score:t,startTime:e.startTime,endTime:e.endTime}})})}).catch(function(){console.log("继续答题")})},showTime:function(){var e=this;setInterval(function(){e.time-=1,10==e.time&&(e.$message({showClose:!0,type:"error",message:"考生注意,考试时间还剩10分钟！！！"}),0==e.time&&console.log("考试时间已到,强制交卷。"))},6e4)}},computed:Object(c.c)(["isPractice"])},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"answer"}},[i("div",{staticClass:"top"},[i("ul",{staticClass:"item"},[i("li",[i("i",{ref:"toggle",staticClass:"iconfont icon-menufold icon20",on:{click:function(t){e.slider_flag=!e.slider_flag}}})]),e._v(" "),i("li",[e._v(e._s(e.examData.type)+"-"+e._s(e.examData.source))]),e._v(" "),i("li",{on:{click:function(t){e.flag=!e.flag}}},[i("i",{staticClass:"iconfont icon-user icon20"}),e._v(" "),e.flag?i("div",{staticClass:"msg",on:{click:function(t){e.flag=!e.flag}}},[i("p",[e._v("姓名："+e._s(e.userInfo.name))]),e._v(" "),i("p",[e._v("准考证号:  "+e._s(e.userInfo.id))])]):e._e()]),e._v(" "),e._m(0)])]),e._v(" "),i("div",{staticClass:"flexarea"},[i("transition",{attrs:{name:"slider-fade"}},[e.slider_flag?i("div",{staticClass:"left"},[i("ul",{staticClass:"l-top"},[i("li",[i("a",{attrs:{href:"javascript:;"}}),e._v(" "),i("span",[e._v("当前")])]),e._v(" "),i("li",[i("a",{attrs:{href:"javascript:;"}}),e._v(" "),i("span",[e._v("未答")])]),e._v(" "),i("li",[i("a",{attrs:{href:"javascript:;"}}),e._v(" "),i("span",[e._v("已答")])]),e._v(" "),i("li",[i("a",{attrs:{href:"javascript:;"}}),e._v(" "),i("span",[e._v("标记")])])]),e._v(" "),i("div",{staticClass:"l-bottom"},[i("div",{staticClass:"item",staticStyle:{height:"370px","overflow-y":"auto"}},[i("p",[e._v("选择题部分")]),e._v(" "),i("ul",e._l(e.topic[1],function(t,s){return i("li",{key:s},[i("a",{class:{border:e.index==s&&1==e.currentType,bg:e.bg_flag&&1==e.topic[1][s].isClick},attrs:{href:"javascript:;"},on:{click:function(t){return e.change(s)}}},[i("span",{class:{mark:1==e.topic[1][s].isMark}}),e._v("\n                      "+e._s(s+1)+"\n                    ")])])}),0)]),e._v(" "),i("div",{staticClass:"item"},[i("p",[e._v("填空题部分")]),e._v(" "),i("ul",e._l(e.topic[2],function(t,s){return i("li",{key:s},[i("a",{class:{border:e.index==s&&2==e.currentType,bg:1==e.fillAnswer[s][3]},attrs:{href:"javascript:;"},on:{click:function(t){return e.fill(s)}}},[i("span",{class:{mark:1==e.topic[2][s].isMark}}),e._v(e._s(e.topicCount[0]+s+1))])])}),0)]),e._v(" "),i("div",{staticClass:"item"},[i("p",[e._v("判断题部分")]),e._v(" "),i("ul",e._l(e.topic[3],function(t,s){return i("li",{key:s},[i("a",{class:{border:e.index==s&&3==e.currentType,bg:e.bg_flag&&1==e.topic[3][s].isClick},attrs:{href:"javascript:;"},on:{click:function(t){return e.judge(s)}}},[i("span",{class:{mark:1==e.topic[3][s].isMark}}),e._v(e._s(e.topicCount[0]+e.topicCount[1]+s+1))])])}),0)]),e._v(" "),i("div",{staticClass:"final",on:{click:function(t){return e.commit()}}},[e._v("结束考试")])])]):e._e()]),e._v(" "),i("transition",{attrs:{name:"slider-fade"}},[i("div",{staticClass:"right"},[i("div",{staticClass:"title"},[i("p",[e._v(e._s(e.title))]),e._v(" "),i("i",{staticClass:"iconfont icon-right auto-right"}),e._v(" "),i("span",[e._v("全卷共"+e._s(e.topicCount[0]+e.topicCount[1]+e.topicCount[2])+"题  "),i("i",{staticClass:"iconfont icon-time"}),e._v("倒计时："),i("b",[e._v(e._s(e.time))]),e._v("分钟")])]),e._v(" "),i("div",{staticClass:"content"},[i("p",{staticClass:"topic"},[i("span",{staticClass:"number"},[e._v(e._s(e.number))]),e._v(e._s(e.showQuestion))]),e._v(" "),1==e.currentType?i("div",[i("div",{staticStyle:{width:"250px"}},[i("el-radio-group",{on:{change:e.getChangeLabel},model:{value:e.radio[e.index],callback:function(t){e.$set(e.radio,e.index,t)},expression:"radio[index]"}},[i("el-radio",{attrs:{label:"1",border:""}},[e._v(e._s(e.showAnswer.answerA))]),e._v(" "),i("el-radio",{attrs:{label:"2",border:""}},[e._v(e._s(e.showAnswer.answerB))]),e._v(" "),i("el-radio",{attrs:{label:"3",border:""}},[e._v(e._s(e.showAnswer.answerC))]),e._v(" "),i("el-radio",{attrs:{label:"4",border:""}},[e._v(e._s(e.showAnswer.answerD))])],1)],1),e._v(" "),i("div",{staticClass:"analysis"},[i("ul",[i("li",[i("el-tooltip",{attrs:{placement:"right"}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.reduceAnswer.rightAnswer))]),e._v(" "),i("el-button",{attrs:{type:"success"}},[e._v("正确答案：")])],1),e._v(" "),e.isSelected?i("span",{staticStyle:{"font-weight":"bold","font-size":"24px"}},[e._v(e._s(e.reduceAnswer.rightAnswer)+",回答正确！！！")]):!1===e.isSelected?i("span",{staticStyle:{"font-weight":"bold","font-size":"24px",color:"red"}},[e._v(e._s(e.reduceAnswer.rightAnswer)+",回答错误✗✗✗")]):e._e()],1),e._v(" "),i("li",[i("el-tag",[e._v("题目解析：")]),e._v(" "),i("span",[e._v(e._s(e.radioName[0]))])],1),e._v(" "),i("li",[null===e.isSelected?i("span"):i("span",[e._v(e._s(null==e.reduceAnswer.analysis?"暂无解析":e.reduceAnswer.analysis))])])])]),e._v(" "),e.isPractice?i("div",{staticClass:"analysis"},[i("ul",[i("li",[i("el-tag",{attrs:{type:"success"}},[e._v("正确姿势：")]),i("span",{staticClass:"right"},[e._v(e._s(e.reduceAnswer.rightAnswer))])],1),e._v(" "),i("li",[i("el-tag",[e._v("题目解析：")])],1),e._v(" "),i("li",[e._v(e._s(null==e.reduceAnswer.analysis?"暂无解析":e.reduceAnswer.analysis))])])]):e._e()]):e._e(),e._v(" "),2==e.currentType?i("div",{staticClass:"fill"},[e._l(e.part,function(t,s){return i("div",{key:s},[i("el-input",{attrs:{placeholder:"请填在此处",clearable:""},on:{blur:e.fillBG},model:{value:e.fillAnswer[e.index][s],callback:function(t){e.$set(e.fillAnswer[e.index],s,t)},expression:"fillAnswer[index][currentIndex]"}})],1)}),e._v(" "),e.isPractice?i("div",{staticClass:"analysis"},[i("ul",[i("li",[i("el-tag",{attrs:{type:"success"}},[e._v("正确姿势：")]),i("span",{staticClass:"right"},[e._v(e._s(e.topic[2][e.index].answer))])],1),e._v(" "),i("li",[i("el-tag",[e._v("题目解析：")])],1),e._v(" "),i("li",[e._v(e._s(null==e.topic[2][e.index].analysis?"暂无解析":e.topic[2][e.index].analysis))])])]):e._e()],2):e._e(),e._v(" "),3==e.currentType?i("div",{staticClass:"judge"},[3==e.currentType?i("el-radio-group",{on:{change:e.getJudgeLabel},model:{value:e.judgeAnswer[e.index],callback:function(t){e.$set(e.judgeAnswer,e.index,t)},expression:"judgeAnswer[index]"}},[i("el-radio",{attrs:{label:1}},[e._v("正确")]),e._v(" "),i("el-radio",{attrs:{label:2}},[e._v("错误")])],1):e._e(),e._v(" "),e.isPractice?i("div",{staticClass:"analysis"},[i("ul",[i("li",[i("el-tag",{attrs:{type:"success"}},[e._v("正确姿势：")]),i("span",{staticClass:"right"},[e._v(e._s(e.topic[3][e.index].answer))])],1),e._v(" "),i("li",[i("el-tag",[e._v("题目解析：")])],1),e._v(" "),i("li",[e._v(e._s(null==e.topic[3][e.index].analysis?"暂无解析":e.topic[3][e.index].analysis))])])]):e._e()],1):e._e()]),e._v(" "),i("div",{staticClass:"operation"},[i("ul",{staticClass:"end"},[i("li",{on:{click:function(t){return e.previous()}}},[i("i",{staticClass:"iconfont icon-previous"}),i("span",[e._v("上一题")])]),e._v(" "),i("li",{on:{click:function(t){return e.mark()}}},[i("i",{staticClass:"iconfont icon-mark-o"}),i("span",[e._v("标记")])]),e._v(" "),i("li",{on:{click:function(t){return e.next()}}},[i("span",[e._v("下一题")]),i("i",{staticClass:"iconfont icon-next"})])])])])])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("i",{staticClass:"iconfont icon-arrLeft icon20"})])}]};var h=i("VU/8")(l,u,!1,function(e){i("rfTq")},null,null);t.default=h.exports},fZjL:function(e,t,i){e.exports={default:i("jFbC"),__esModule:!0}},jFbC:function(e,t,i){i("Cdx3"),e.exports=i("FeBl").Object.keys},rfTq:function(e,t){},uqUo:function(e,t,i){var s=i("kM2E"),n=i("FeBl"),a=i("S82l");e.exports=function(e,t){var i=(n.Object||{})[e]||Object[e],r={};r[e]=t(i),s(s.S+s.F*a(function(){i(1)}),"Object",r)}}});
//# sourceMappingURL=3.f1c6d1165b86a249211c.js.map